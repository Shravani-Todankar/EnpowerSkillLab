<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Onboard Program Coordinator</title>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
        rel="stylesheet" />

    <!-- Sidebar & Header CSS -->
    <link rel="stylesheet" href="sidebar.css">
    <link rel="stylesheet" href="header.css">

    <!-- Sidebar & Header JS -->
    <script src="sidebar.js"></script>
    <script src="header.js"></script>

    <style>
        /* Prevent FOUC - hide containers until loaded */
        #sidebar-container:empty,
        #header-container:empty {
            opacity: 0;
            visibility: hidden;
        }

        #sidebar-container.loaded,
        #header-container.loaded {
            opacity: 1;
            visibility: visible;
            transition: opacity 0.2s ease-in;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 50%, #f9fafb 100%);
            color: #1d1d1f;
        }

        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }

        .dashboard-page {
            padding: 1rem;
            flex: 1;
        }

        .onboard-coordinator-container {
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08), 0 0 1px rgba(0, 0, 0, 0.05);
            padding: 40px;
            transition: all 0.3s ease;
            border: 1px solid rgba(0, 0, 0, 0.04);
        }

        .onboard-coordinator-container:hover {
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }

        .page-header {
            margin-bottom: 30px;
        }

        .page-header h1 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
            color: #1d1d1f;
        }

        .page-header p {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 0;
        }

        /* Progress Stepper */
        .stepper {
            display: flex;
            justify-content: space-between;
            margin-bottom: 50px;
            position: relative;
            overflow-x: auto;
            padding: 10px 0;
        }

        .stepper::before {
            content: '';
            position: absolute;
            top: 30px;
            left: 5%;
            right: 5%;
            height: 2px;
            background: #e5e5e7;
            z-index: 0;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 1;
            flex: 1;
            min-width: 100px;
        }

        .step-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e5e5e7;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #86868b;
            transition: all 0.3s ease;
        }

        .step.active .step-icon {
            background: #5A1F6E;
            color: white;
            box-shadow: 0 0 0 4px rgba(90, 31, 110, 0.1);
        }

        .step.completed .step-icon {
            background: #facd48;
            color: white;
        }

        .step-label {
            font-size: 11px;
            color: #86868b;
            text-align: center;
            font-weight: 500;
            max-width: 100px;
        }

        .step.completed .step-label {
            color: #facd48;
        }

        .step.active .step-label {
            color: #5A1F6E;
            font-weight: 600;
        }

        /* Form Section */
        .form-section h2 {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 30px;
            color: #1d1d1f;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 24px;
        }

        .form-row.full {
            grid-template-columns: 1fr;
        }

        .form-row.three-col {
            grid-template-columns: 1fr 1fr 1fr;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
            color: #1d1d1f;
        }

        .form-group label .required {
            color: #d32f2f;
            margin-left: 2px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 12px 16px;
            border: 1px solid #d2d2d7;
            border-radius: 8px;
            font-size: 14px;
            color: #1d1d1f;
            background: white;
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #5A1F6E;
            box-shadow: 0 0 0 3px rgba(90, 31, 110, 0.1);
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: #86868b;
        }

        .form-group select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1.5L6 6.5L11 1.5' stroke='%2386868b' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
            padding-right: 40px;
        }

        .form-group input.error,
        .form-group select.error {
            border-color: #d32f2f;
        }

        .error-message {
            color: #d32f2f;
            font-size: 12px;
            margin-top: 4px;
            display: none;
        }

        /* Photo Upload */
        .photo-upload-container {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .photo-preview {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 3px dashed #d2d2d7;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            background-color: #f9fafb;
            color: #86868b;
            transition: all 0.3s ease;
            overflow: hidden;
            cursor: pointer;
        }

        .photo-preview:hover {
            border-color: #5A1F6E;
        }

        .photo-preview .material-symbols-outlined {
            font-size: 2.5rem;
        }

        .photo-preview-text {
            font-size: 0.875rem;
            font-weight: 500;
        }

        .photo-input {
            display: none;
        }

        .upload-photo-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background-color: #5A1F6E;
            color: #ffffff;
            border: none;
            border-radius: 0.5rem;
            font-size: 0.938rem;
            font-weight: 500;
            font-family: 'Poppins', sans-serif;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .upload-photo-btn:hover {
            background-color: rgba(90, 31, 110, 0.9);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(90, 31, 110, 0.3);
        }

        .photo-hint {
            font-size: 0.813rem;
            color: #6b7280;
        }

        /* File Upload Button */
        .file-upload-wrapper {
            position: relative;
            display: inline-block;
        }

        .file-upload-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background-color: #f3f4f6;
            color: #1d1d1f;
            border: 2px solid #d2d2d7;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            font-family: 'Poppins', sans-serif;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .file-upload-btn:hover {
            background-color: #e5e7eb;
            border-color: #5A1F6E;
        }

        .file-input {
            display: none;
        }

        .file-name {
            margin-top: 0.5rem;
            font-size: 0.813rem;
            color: #6b7280;
        }

        /* Multi-Select Dropdown */
        .multi-select-container {
            position: relative;
        }

        .selected-items {
            min-height: 48px;
            padding: 8px 16px;
            border: 1px solid #d2d2d7;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            align-items: center;
            transition: all 0.2s ease;
            background: white;
        }

        .selected-items:hover,
        .selected-items.active {
            border-color: #5A1F6E;
        }

        .selected-items.error {
            border-color: #d32f2f;
        }

        .selected-items .placeholder {
            color: #86868b;
            font-size: 14px;
        }

        .selected-tag {
            background: rgba(90, 31, 110, 0.1);
            color: #5A1F6E;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 6px;
            font-weight: 500;
        }

        .selected-tag .remove {
            cursor: pointer;
            font-weight: 600;
            font-size: 16px;
            line-height: 1;
        }

        .selected-tag .remove:hover {
            color: #3b1053;
        }

        .multi-select-dropdown {
            position: absolute;
            top: calc(100% + 4px);
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #d2d2d7;
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            z-index: 10;
            display: none;
            max-height: 320px;
            overflow: hidden;
        }

        .multi-select-dropdown.active {
            display: block;
        }

        .search-box {
            padding: 12px;
            border-bottom: 1px solid #e5e5e7;
        }

        .search-box input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d2d2d7;
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
        }

        .search-box input:focus {
            outline: none;
            border-color: #5A1F6E;
        }

        .options-list {
            max-height: 240px;
            overflow-y: auto;
            padding: 8px;
        }

        .checkbox-option {
            display: flex;
            align-items: center;
            padding: 10px 12px;
            cursor: pointer;
            border-radius: 6px;
            transition: background 0.2s ease;
        }

        .checkbox-option:hover {
            background: #f5f5f7;
        }

        .checkbox-option input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin-right: 12px;
            cursor: pointer;
            accent-color: #5A1F6E;
        }

        .checkbox-option span {
            font-size: 14px;
            color: #1d1d1f;
            flex: 1;
        }

        /* Form Actions */
        .form-actions {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #e5e5e7;
        }

        .form-actions .btn-back {
            margin-right: auto;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            font-family: inherit;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-back {
            background: transparent;
            color: #1d1d1f;
        }

        .btn-back:hover {
            background: #f5f5f7;
        }

        .btn-next,
        .btn-submit {
            background: #5A1F6E;
            color: white;
        }

        .btn-next:hover,
        .btn-submit:hover {
            background: rgba(90, 31, 110, 0.9);
        }

        .btn-next:active,
        .btn-submit:active {
            transform: scale(0.98);
        }

        .arrow {
            font-size: 16px;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .dashboard-page {
                padding: 1.5rem;
            }

            .form-row.three-col {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (max-width: 768px) {
            .dashboard-page {
                padding: 1rem;
            }

            .onboard-coordinator-container {
                padding: 30px;
            }

            .stepper::before {
                left: 3%;
                right: 3%;
            }

            .step {
                min-width: 70px;
            }

            .step-icon {
                width: 36px;
                height: 36px;
                font-size: 13px;
            }

            .form-row.three-col {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 640px) {
            .dashboard-page {
                padding: 0.75rem;
            }

            .onboard-coordinator-container {
                padding: 24px;
                border-radius: 12px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .stepper {
                overflow-x: auto;
                padding: 0 5px;
            }

            .stepper::before {
                left: 50px;
                right: 50px;
            }

            .step {
                min-width: 90px;
            }

            .step-icon {
                width: 32px;
                height: 32px;
                font-size: 12px;
            }

            .step-label {
                font-size: 10px;
                max-width: 90px;
            }
        }
    </style>
</head>

<body>
    <div class="dashboard-container">
        <!-- Include Sidebar Component -->
        <div id="sidebar-container"></div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Include Header Component -->
            <div id="header-container"></div>

            <!-- Onboard Coordinator Page -->
            <div class="dashboard-page">
                <div class="onboard-coordinator-container">
                    <div class="page-header">
                        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; flex-direction: column;
    gap: 1rem;">
                            <div>
                                <h1>Onboard Program Coordinator</h1>
                                <p>Fill in the coordinator details to onboard them to the system</p>
                            </div>
                            <button type="button" class="btn btn-next" id="autoFillBtn" style="display: flex;">
                                <span class="material-symbols-outlined" style="font-size: 18px;">auto_fix_high</span>
                                Auto Fill
                            </button>
                        </div>
                    </div>

                    <!-- Progress Stepper -->
                    <div class="stepper">
                        <div class="step active">
                            <div class="step-icon">1</div>
                            <div class="step-label">Basic Info</div>
                        </div>
                        <div class="step">
                            <div class="step-icon">2</div>
                            <div class="step-label">Professional</div>
                        </div>
                        <div class="step">
                            <div class="step-icon">3</div>
                            <div class="step-label">Contact</div>
                        </div>
                        <div class="step">
                            <div class="step-icon">4</div>
                            <div class="step-label">Address</div>
                        </div>
                        <div class="step">
                            <div class="step-icon">5</div>
                            <div class="step-label">Compliance</div>
                        </div>
                        <div class="step">
                            <div class="step-icon">6</div>
                            <div class="step-label">Assignment</div>
                        </div>
                        <div class="step">
                            <div class="step-icon">7</div>
                            <div class="step-label">Bank Details</div>
                        </div>
                        <div class="step">
                            <div class="step-icon">8</div>
                            <div class="step-label">Additional</div>
                        </div>
                    </div>

                    <!-- Form -->
                    <form id="coordinatorForm">
                        <!-- Step 1: Basic Information -->
                        <div class="form-section" id="step1">
                            <h2>A. Basic Information</h2>

                            <div class="form-row full">
                                <div class="form-group">
                                    <label>Profile Photo</label>
                                    <div class="photo-upload-container">
                                        <div class="photo-preview" id="photoPreview">
                                            <span class="material-symbols-outlined">add_a_photo</span>
                                            <span class="photo-preview-text">Upload Photo</span>
                                        </div>
                                        <input type="file" id="profilePhoto" name="profilePhoto" accept="image/*"
                                            class="photo-input">
                                        <button type="button" class="upload-photo-btn" id="uploadPhotoBtn">
                                            <span class="material-symbols-outlined">upload</span>
                                            Choose Photo
                                        </button>
                                        <p class="photo-hint">Passport size photograph (Square image, max 2MB)</p>
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Full Name (as per Aadhar card) <span class="required">*</span></label>
                                    <input type="text" id="fullName" name="fullName" placeholder="Enter full name as per Aadhar"
                                        required>
                                    <span class="error-message" id="fullNameError"></span>
                                </div>
                                <div class="form-group">
                                    <label>Gender <span class="required">*</span></label>
                                    <select id="gender" name="gender" required>
                                        <option value="">Select gender</option>
                                        <option value="male">Male</option>
                                        <option value="female">Female</option>
                                        <option value="other">Other</option>
                                    </select>
                                    <span class="error-message" id="genderError"></span>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Date of Birth <span class="required">*</span></label>
                                    <input type="date" id="dateOfBirth" name="dateOfBirth" required>
                                    <span class="error-message" id="dateOfBirthError"></span>
                                </div>
                                <div class="form-group">
                                    <label>Age (auto-calculated)</label>
                                    <input type="text" id="age" name="age" readonly placeholder="Age will be calculated">
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Blood Group</label>
                                    <select id="bloodGroup" name="bloodGroup">
                                        <option value="">Select blood group</option>
                                        <option value="A+">A+</option>
                                        <option value="A-">A-</option>
                                        <option value="B+">B+</option>
                                        <option value="B-">B-</option>
                                        <option value="AB+">AB+</option>
                                        <option value="AB-">AB-</option>
                                        <option value="O+">O+</option>
                                        <option value="O-">O-</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Nationality <span class="required">*</span></label>
                                    <input type="text" id="nationality" name="nationality" value="Indian" required>
                                    <span class="error-message" id="nationalityError"></span>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Employee / Coach ID</label>
                                    <input type="text" id="employeeId" name="employeeId" placeholder="e.g., PC001">
                                </div>
                                <div class="form-group">
                                    <label>Aadhar Number <span class="required">*</span></label>
                                    <input type="text" id="aadharNumber" name="aadharNumber" placeholder="Enter 12-digit Aadhar number"
                                        maxlength="12" required>
                                    <span class="error-message" id="aadharNumberError"></span>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>PAN Number <span class="required">*</span></label>
                                    <input type="text" id="panNumber" name="panNumber" placeholder="e.g., ABCDE1234F"
                                        maxlength="10" style="text-transform: uppercase;" required>
                                    <span class="error-message" id="panNumberError"></span>
                                </div>
                                <div class="form-group">
                                </div>
                            </div>
                        </div>

                        <!-- Step 2: Professional Details -->
                        <div class="form-section" id="step2" style="display: none;">
                            <h2>B. Professional Details</h2>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Designation <span class="required">*</span></label>
                                    <select id="designation" name="designation" required>
                                        <option value="">Select designation</option>
                                        <option value="Program Coordinator">Program Coordinator</option>
                                        <option value="Project Coordinator">Project Coordinator</option>
                                    </select>
                                    <span class="error-message" id="designationError"></span>
                                </div>
                                <div class="form-group">
                                    <label>Qualification <span class="required">*</span></label>
                                    <input type="text" id="qualification" name="qualification" placeholder="e.g., MBA, B.Tech"
                                        required>
                                    <span class="error-message" id="qualificationError"></span>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Specialization <span class="required">*</span></label>
                                    <select id="specialization" name="specialization" required>
                                        <option value="">Select specialization</option>
                                        <option value="Operations">Operations</option>
                                        <option value="Education">Education</option>
                                        <option value="Project Management">Project Management</option>
                                        <option value="Others">Others</option>
                                    </select>
                                    <span class="error-message" id="specializationError"></span>
                                </div>
                                <div class="form-group">
                                    <label>Total Experience <span class="required">*</span></label>
                                    <input type="text" id="totalExperience" name="totalExperience" placeholder="e.g., 5 Years 6 Months"
                                        required>
                                    <span class="error-message" id="totalExperienceError"></span>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Experience in Project / Program Management</label>
                                    <input type="text" id="programManagementExp" name="programManagementExp" placeholder="e.g., 3 Years">
                                </div>
                                <div class="form-group">
                                    <label>Experience in Education / School Programs (Years)</label>
                                    <input type="text" id="educationExp" name="educationExp" placeholder="e.g., 2 Years">
                                </div>
                            </div>

                            <div class="form-row full">
                                <div class="form-group">
                                    <label>Previous Organizations</label>
                                    <textarea id="previousOrganizations" name="previousOrganizations" placeholder="List previous organizations (one per line)"></textarea>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Languages Known <span class="required">*</span></label>
                                    <input type="text" id="languagesKnown" name="languagesKnown" placeholder="e.g., English, Hindi, Tamil"
                                        required>
                                    <span class="error-message" id="languagesKnownError"></span>
                                </div>
                                <div class="form-group">
                                    <label>Certifications (PMP / Agile / Operations / Education â€“ if any)</label>
                                    <input type="text" id="certifications" name="certifications" placeholder="e.g., PMP Certified, Agile Scrum Master">
                                </div>
                            </div>
                        </div>

                        <!-- Step 3: Contact Information -->
                        <div class="form-section" id="step3" style="display: none;">
                            <h2>C. Contact Information</h2>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Mobile Number <span class="required">*</span></label>
                                    <input type="tel" id="mobileNumber" name="mobileNumber" placeholder="+91 XXXXX XXXXX"
                                        required maxlength="10">
                                    <span class="error-message" id="mobileNumberError"></span>
                                </div>
                                <div class="form-group">
                                    <label>Alternate Number</label>
                                    <input type="tel" id="alternateNumber" name="alternateNumber"
                                        placeholder="+91 XXXXX XXXXX" maxlength="10">
                                    <span class="error-message" id="alternateNumberError"></span>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Official Email ID <span class="required">*</span></label>
                                    <input type="email" id="officialEmail" name="officialEmail" placeholder="official@example.com"
                                        required>
                                    <span class="error-message" id="officialEmailError"></span>
                                </div>
                                <div class="form-group">
                                    <label>Personal Email (optional)</label>
                                    <input type="email" id="personalEmail" name="personalEmail" placeholder="personal@example.com">
                                    <span class="error-message" id="personalEmailError"></span>
                                </div>
                            </div>
                        </div>

                        <!-- Step 4: Address Details -->
                        <div class="form-section" id="step4" style="display: none;">
                            <h2>D. Address Details</h2>

                            <div class="form-row full">
                                <div class="form-group">
                                    <label>Current Residential Address <span class="required">*</span></label>
                                    <textarea id="currentAddress" name="currentAddress" placeholder="Enter complete current address" required></textarea>
                                    <span class="error-message" id="currentAddressError"></span>
                                </div>
                            </div>

                            <div class="form-row full">
                                <div class="form-group">
                                    <label>Permanent Address</label>
                                    <textarea id="permanentAddress" name="permanentAddress" placeholder="Enter complete permanent address (leave blank if same as current)"></textarea>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>City <span class="required">*</span></label>
                                    <input type="text" id="city" name="city" placeholder="City" required>
                                    <span class="error-message" id="cityError"></span>
                                </div>
                                <div class="form-group">
                                    <label>State <span class="required">*</span></label>
                                    <input type="text" id="state" name="state" placeholder="State" required>
                                    <span class="error-message" id="stateError"></span>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Pin Code <span class="required">*</span></label>
                                    <input type="text" id="pincode" name="pincode" placeholder="6-digit PIN code"
                                        maxlength="6" required>
                                    <span class="error-message" id="pincodeError"></span>
                                </div>
                                <div class="form-group">
                                </div>
                            </div>
                        </div>

                        <!-- Step 5: Compliance & Documentation -->
                        <div class="form-section" id="step5" style="display: none;">
                            <h2>E. Compliance & Documentation</h2>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>ID Proof Submitted <span class="required">*</span></label>
                                    <select id="idProof" name="idProof" required>
                                        <option value="">Select ID proof</option>
                                        <option value="Aadhar">Aadhar</option>
                                        <option value="PAN">PAN</option>
                                        <option value="Both">Both (Aadhar & PAN)</option>
                                    </select>
                                    <span class="error-message" id="idProofError"></span>
                                </div>
                                <div class="form-group">
                                    <label>Address Proof Submitted</label>
                                    <select id="addressProof" name="addressProof">
                                        <option value="">Select address proof</option>
                                        <option value="Aadhar">Aadhar</option>
                                        <option value="Utility Bill">Utility Bill</option>
                                        <option value="Passport">Passport</option>
                                        <option value="Rental Agreement">Rental Agreement</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Police Verification Status</label>
                                    <select id="policeVerification" name="policeVerification">
                                        <option value="">Select status</option>
                                        <option value="Pending">Pending</option>
                                        <option value="In Progress">In Progress</option>
                                        <option value="Completed">Completed</option>
                                        <option value="Not Required">Not Required</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Passport Size Photograph Uploaded</label>
                                    <select id="passportPhotoUploaded" name="passportPhotoUploaded">
                                        <option value="">Select option</option>
                                        <option value="Yes">Yes</option>
                                        <option value="No">No</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Signed Contract Uploaded</label>
                                    <select id="contractUploaded" name="contractUploaded">
                                        <option value="">Select option</option>
                                        <option value="Yes">Yes</option>
                                        <option value="No">No</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>PAN Linked with Aadhar</label>
                                    <select id="panAadharLinked" name="panAadharLinked">
                                        <option value="">Select option</option>
                                        <option value="Yes">Yes</option>
                                        <option value="No">No</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-row full">
                                <div class="form-group">
                                    <label>Upload your latest resume (pdf / word format)</label>
                                    <div class="file-upload-wrapper">
                                        <input type="file" id="resumeUpload" name="resumeUpload" accept=".pdf,.doc,.docx" class="file-input">
                                        <button type="button" class="file-upload-btn" onclick="document.getElementById('resumeUpload').click()">
                                            <span class="material-symbols-outlined">upload_file</span>
                                            Choose Resume File
                                        </button>
                                        <div class="file-name" id="resumeFileName">No file chosen</div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>NDA / Confidentiality Agreement Signed (optional)</label>
                                    <select id="ndaSigned" name="ndaSigned">
                                        <option value="">Select option</option>
                                        <option value="Yes">Yes</option>
                                        <option value="No">No</option>
                                        <option value="Not Required">Not Required</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                </div>
                            </div>
                        </div>

                        <!-- Step 6: Program & Work Assignment Details -->
                        <div class="form-section" id="step6" style="display: none;">
                            <h2>F. Program & Work Assignment Details</h2>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Program Assigned <span class="required">*</span></label>
                                    <select id="programAssigned" name="programAssigned" required>
                                        <option value="">Select program</option>
                                        <option value="CSL">CSL</option>
                                        <option value="CSL+">CSL+</option>
                                        <option value="Idea Lab Aff">Idea Lab Aff</option>
                                        <option value="Idea Lab Certf">Idea Lab Certf</option>
                                    </select>
                                    <span class="error-message" id="programAssignedError"></span>
                                </div>
                                <div class="form-group">
                                    <label>Zone Assigned</label>
                                    <input type="text" id="zoneAssigned" name="zoneAssigned" placeholder="e.g., North Zone, South Zone">
                                </div>
                            </div>

                            <div class="form-row full">
                                <div class="form-group">
                                    <label>Schools Assigned <span class="required">*</span></label>
                                    <div class="multi-select-container">
                                        <div class="selected-items" id="selectedSchools">
                                            <span class="placeholder">Select schools to assign (Single / Multiple)</span>
                                        </div>
                                        <div class="multi-select-dropdown" id="schoolsDropdown">
                                            <div class="search-box">
                                                <input type="text" id="schoolSearch" placeholder="Search schools...">
                                            </div>
                                            <div class="options-list">
                                                <label class="checkbox-option">
                                                    <input type="checkbox" name="schools" value="school1">
                                                    <span>Delhi Public School - Sector 45</span>
                                                </label>
                                                <label class="checkbox-option">
                                                    <input type="checkbox" name="schools" value="school2">
                                                    <span>St. Mary's Convent School</span>
                                                </label>
                                                <label class="checkbox-option">
                                                    <input type="checkbox" name="schools" value="school3">
                                                    <span>Greenwood High International</span>
                                                </label>
                                                <label class="checkbox-option">
                                                    <input type="checkbox" name="schools" value="school4">
                                                    <span>Modern Academy Senior Secondary</span>
                                                </label>
                                                <label class="checkbox-option">
                                                    <input type="checkbox" name="schools" value="school5">
                                                    <span>Sunrise International School</span>
                                                </label>
                                                <label class="checkbox-option">
                                                    <input type="checkbox" name="schools" value="school6">
                                                    <span>Cambridge Public School</span>
                                                </label>
                                                <label class="checkbox-option">
                                                    <input type="checkbox" name="schools" value="school7">
                                                    <span>The Heritage School</span>
                                                </label>
                                                <label class="checkbox-option">
                                                    <input type="checkbox" name="schools" value="school8">
                                                    <span>Oakridge International School</span>
                                                </label>
                                                <label class="checkbox-option">
                                                    <input type="checkbox" name="schools" value="school9">
                                                    <span>Ryan International School</span>
                                                </label>
                                                <label class="checkbox-option">
                                                    <input type="checkbox" name="schools" value="school10">
                                                    <span>DAV Public School - Model Town</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <span class="error-message" id="schoolsError"></span>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Branch / Region</label>
                                    <input type="text" id="branchRegion" name="branchRegion" placeholder="e.g., Delhi NCR, Mumbai">
                                </div>
                                <div class="form-group">
                                    <label>Reporting Manager</label>
                                    <input type="text" id="reportingManager" name="reportingManager" placeholder="Manager name">
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Dashboard Login Role & Permissions</label>
                                    <select id="loginRole" name="loginRole">
                                        <option value="">Select role</option>
                                        <option value="Program Coordinator">Program Coordinator</option>
                                        <option value="Project Coordinator">Project Coordinator</option>
                                        <option value="Senior Coordinator">Senior Coordinator</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Joining Date <span class="required">*</span></label>
                                    <input type="date" id="joiningDate" name="joiningDate" required>
                                    <span class="error-message" id="joiningDateError"></span>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Employment Type <span class="required">*</span></label>
                                    <select id="employmentType" name="employmentType" required>
                                        <option value="">Select employment type</option>
                                        <option value="Full-time">Full-time</option>
                                        <option value="Contract">Contract</option>
                                        <option value="Consultant">Consultant</option>
                                    </select>
                                    <span class="error-message" id="employmentTypeError"></span>
                                </div>
                                <div class="form-group">
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Contract Start Date</label>
                                    <input type="date" id="contractStartDate" name="contractStartDate">
                                </div>
                                <div class="form-group">
                                    <label>Contract End Date</label>
                                    <input type="date" id="contractEndDate" name="contractEndDate">
                                </div>
                            </div>
                        </div>

                        <!-- Step 7: Bank & Payroll Details -->
                        <div class="form-section" id="step7" style="display: none;">
                            <h2>G. Bank & Payroll Details</h2>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Bank Name <span class="required">*</span></label>
                                    <input type="text" id="bankName" name="bankName" placeholder="e.g., HDFC Bank, ICICI Bank" required>
                                    <span class="error-message" id="bankNameError"></span>
                                </div>
                                <div class="form-group">
                                    <label>Branch Name <span class="required">*</span></label>
                                    <input type="text" id="branchName" name="branchName" placeholder="e.g., MG Road Branch" required>
                                    <span class="error-message" id="branchNameError"></span>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Bank Account Number <span class="required">*</span></label>
                                    <input type="text" id="accountNumber" name="accountNumber" placeholder="Enter account number" required>
                                    <span class="error-message" id="accountNumberError"></span>
                                </div>
                                <div class="form-group">
                                    <label>IFSC Code <span class="required">*</span></label>
                                    <input type="text" id="ifscCode" name="ifscCode" placeholder="e.g., HDFC0001234"
                                        maxlength="11" style="text-transform: uppercase;" required>
                                    <span class="error-message" id="ifscCodeError"></span>
                                </div>
                            </div>

                            <div class="form-row full">
                                <div class="form-group">
                                    <label>Bank Passbook / Cancelled Cheque Copy</label>
                                    <div class="file-upload-wrapper">
                                        <input type="file" id="bankProofUpload" name="bankProofUpload" accept=".pdf,.jpg,.jpeg,.png" class="file-input">
                                        <button type="button" class="file-upload-btn" onclick="document.getElementById('bankProofUpload').click()">
                                            <span class="material-symbols-outlined">upload_file</span>
                                            Choose Bank Proof File
                                        </button>
                                        <div class="file-name" id="bankProofFileName">No file chosen</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 8: Additional Optional Data -->
                        <div class="form-section" id="step8" style="display: none;">
                            <h2>H. Additional Optional Data</h2>

                            <div class="form-row full">
                                <div class="form-group">
                                    <label>Strength Areas</label>
                                    <textarea id="strengthAreas" name="strengthAreas" placeholder="e.g., Team Management, Communication, Problem Solving"></textarea>
                                </div>
                            </div>

                            <div class="form-row full">
                                <div class="form-group">
                                    <label>Hobbies / Interests</label>
                                    <textarea id="hobbies" name="hobbies" placeholder="e.g., Reading, Sports, Music"></textarea>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Preferred Work Style</label>
                                    <select id="workStyle" name="workStyle">
                                        <option value="">Select work style</option>
                                        <option value="Field">Field</option>
                                        <option value="Remote">Remote</option>
                                        <option value="Hybrid">Hybrid</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Tools Comfortable With</label>
                                    <input type="text" id="toolsComfortable" name="toolsComfortable" placeholder="e.g., Google Sheets, Dashboards, PM Tools">
                                </div>
                            </div>

                            <div class="form-row full">
                                <div class="form-group">
                                    <label>Achievements & Recognition</label>
                                    <textarea id="achievements" name="achievements" placeholder="List any achievements, awards, or recognition received"></textarea>
                                </div>
                            </div>

                            <div class="form-row full">
                                <div class="form-group">
                                    <label>Career Aspirations</label>
                                    <textarea id="careerAspirations" name="careerAspirations" placeholder="Your career goals and aspirations"></textarea>
                                </div>
                            </div>
                        </div>

                        <!-- Form Actions -->
                        <div class="form-actions">
                            <button type="button" class="btn btn-back" id="backBtn" style="display: none;">
                                <span class="arrow">â†</span>
                                Back
                            </button>
                            <button type="button" class="btn btn-next" id="nextBtn">
                                Next
                                <span class="arrow">â†’</span>
                            </button>
                            <button type="submit" class="btn btn-submit" id="submitBtn" style="display: none;">
                                Submit
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Load Sidebar and Header Components
        document.addEventListener('DOMContentLoaded', function () {
            Promise.all([
                fetch('sidebar.html').then(response => response.text()),
                fetch('header.html').then(response => response.text())
            ]).then(([sidebarHTML, headerHTML]) => {
                document.getElementById('sidebar-container').innerHTML = sidebarHTML;
                document.getElementById('header-container').innerHTML = headerHTML;
                if (typeof initializeHeader === 'function') {
                    initializeHeader();
                }
                setTimeout(() => {
                    setActiveMenuItem();
                }, 200);
            });
        });

        function setActiveMenuItem() {
            const currentPage = window.location.pathname.split('/').pop();
            const navProgramCoordinators = document.getElementById('nav-program-coordinators');
            if (navProgramCoordinators && currentPage === 'onboard-pc.html') {
                navProgramCoordinators.classList.add('active');
                const usersDropdown = document.getElementById('users-dropdown');
                if (usersDropdown) {
                    usersDropdown.classList.add('active');
                    const dropdownMenu = usersDropdown.nextElementSibling;
                    if (dropdownMenu) {
                        dropdownMenu.classList.add('active');
                    }
                }
            }
        }

        // Multi-step form logic
        let currentStep = 1;
        const totalSteps = 8;
        const formData = {};

        // Calculate age from date of birth
        document.getElementById('dateOfBirth').addEventListener('change', function() {
            const dob = new Date(this.value);
            const today = new Date();
            let age = today.getFullYear() - dob.getFullYear();
            const monthDiff = today.getMonth() - dob.getMonth();
            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < dob.getDate())) {
                age--;
            }
            document.getElementById('age').value = age >= 0 ? age + ' years' : '';
        });

        // Phone number formatting
        const phoneInputs = document.querySelectorAll('input[type="tel"]');
        phoneInputs.forEach(input => {
            input.addEventListener('input', function (e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 10) {
                    value = value.slice(0, 10);
                }
                e.target.value = value;
            });
        });

        // Aadhar number formatting
        const aadharInput = document.getElementById('aadharNumber');
        if (aadharInput) {
            aadharInput.addEventListener('input', function (e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 12) {
                    value = value.slice(0, 12);
                }
                e.target.value = value;
            });
        }

        // PIN code formatting
        const pincodeInput = document.getElementById('pincode');
        if (pincodeInput) {
            pincodeInput.addEventListener('input', function (e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 6) {
                    value = value.slice(0, 6);
                }
                e.target.value = value;
            });
        }

        // Photo Upload Functionality
        const uploadPhotoBtn = document.getElementById('uploadPhotoBtn');
        const profilePhoto = document.getElementById('profilePhoto');
        const photoPreview = document.getElementById('photoPreview');

        uploadPhotoBtn.addEventListener('click', function () {
            profilePhoto.click();
        });

        photoPreview.addEventListener('click', function () {
            profilePhoto.click();
        });

        profilePhoto.addEventListener('change', function (e) {
            const file = e.target.files[0];
            if (file) {
                if (file.size > 2 * 1024 * 1024) {
                    alert('File size should not exceed 2MB');
                    profilePhoto.value = '';
                    return;
                }

                const reader = new FileReader();
                reader.onload = function (event) {
                    photoPreview.style.backgroundImage = `url(${event.target.result})`;
                    photoPreview.style.backgroundSize = 'cover';
                    photoPreview.style.backgroundPosition = 'center';
                    photoPreview.innerHTML = '';
                };
                reader.readAsDataURL(file);
            }
        });

        // File upload handlers
        document.getElementById('resumeUpload').addEventListener('change', function() {
            document.getElementById('resumeFileName').textContent = this.files[0] ? this.files[0].name : 'No file chosen';
        });

        document.getElementById('bankProofUpload').addEventListener('change', function() {
            document.getElementById('bankProofFileName').textContent = this.files[0] ? this.files[0].name : 'No file chosen';
        });

        // Multi-select dropdown functionality
        const selectedItemsContainer = document.getElementById('selectedSchools');
        const dropdown = document.getElementById('schoolsDropdown');
        const checkboxes = document.querySelectorAll('input[name="schools"]');
        const searchInput = document.getElementById('schoolSearch');

        selectedItemsContainer.addEventListener('click', function () {
            dropdown.classList.toggle('active');
            selectedItemsContainer.classList.toggle('active');
        });

        document.addEventListener('click', function (e) {
            if (!e.target.closest('.multi-select-container')) {
                dropdown.classList.remove('active');
                selectedItemsContainer.classList.remove('active');
            }
        });

        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', function () {
                updateSelectedSchools();
            });
        });

        function updateSelectedSchools() {
            const selected = Array.from(checkboxes)
                .filter(cb => cb.checked)
                .map(cb => ({
                    value: cb.value,
                    label: cb.nextElementSibling.textContent
                }));

            if (selected.length === 0) {
                selectedItemsContainer.innerHTML = '<span class="placeholder">Select schools to assign (Single / Multiple)</span>';
            } else {
                selectedItemsContainer.innerHTML = selected.map(item => `
                    <span class="selected-tag">
                        ${item.label}
                        <span class="remove" data-value="${item.value}">Ã—</span>
                    </span>
                `).join('');

                selectedItemsContainer.querySelectorAll('.remove').forEach(btn => {
                    btn.addEventListener('click', function (e) {
                        e.stopPropagation();
                        const value = this.getAttribute('data-value');
                        const checkbox = document.querySelector(`input[value="${value}"]`);
                        checkbox.checked = false;
                        updateSelectedSchools();
                    });
                });
            }

            if (selected.length > 0) {
                selectedItemsContainer.classList.remove('error');
            }
        }

        searchInput.addEventListener('input', function () {
            const searchTerm = this.value.toLowerCase();
            const options = document.querySelectorAll('.checkbox-option');

            options.forEach(option => {
                const text = option.textContent.toLowerCase();
                option.style.display = text.includes(searchTerm) ? 'flex' : 'none';
            });
        });

        // Auto Fill Dummy Data Function
        function autoFillForm() {
            // Step 1: Basic Information
            document.getElementById('fullName').value = 'Priya Sharma';
            document.getElementById('gender').value = 'female';
            document.getElementById('dateOfBirth').value = '1990-05-15';
            document.getElementById('bloodGroup').value = 'O+';
            document.getElementById('nationality').value = 'Indian';
            document.getElementById('employeeId').value = 'PC001';
            document.getElementById('aadharNumber').value = '123456789012';
            document.getElementById('panNumber').value = 'ABCDE1234F';

            // Step 2: Professional Details
            document.getElementById('designation').value = 'Program Coordinator';
            document.getElementById('qualification').value = 'MBA in Operations';
            document.getElementById('specialization').value = 'Project Management';
            document.getElementById('totalExperience').value = '5 Years 6 Months';
            document.getElementById('programManagementExp').value = '3 Years';
            document.getElementById('educationExp').value = '2 Years';
            document.getElementById('previousOrganizations').value = 'ABC Education Solutions\nXYZ Learning Institute';
            document.getElementById('languagesKnown').value = 'English, Hindi, Marathi';
            document.getElementById('certifications').value = 'PMP Certified, Agile Scrum Master';

            // Step 3: Contact Information
            document.getElementById('mobileNumber').value = '9876543210';
            document.getElementById('alternateNumber').value = '9876543211';
            document.getElementById('officialEmail').value = 'priya.sharma@example.com';
            document.getElementById('personalEmail').value = 'priya.personal@gmail.com';

            // Step 4: Address Details
            document.getElementById('currentAddress').value = 'Flat 505, Sunrise Apartments, MG Road';
            document.getElementById('permanentAddress').value = 'House No. 12, Green Valley Colony';
            document.getElementById('city').value = 'Pune';
            document.getElementById('state').value = 'Maharashtra';
            document.getElementById('pincode').value = '411001';

            // Step 5: Compliance & Documentation
            document.getElementById('idProof').value = 'Both';
            document.getElementById('addressProof').value = 'Aadhar';
            document.getElementById('policeVerification').value = 'Completed';
            document.getElementById('passportPhotoUploaded').value = 'Yes';
            document.getElementById('contractUploaded').value = 'Yes';
            document.getElementById('panAadharLinked').value = 'Yes';
            document.getElementById('ndaSigned').value = 'Yes';

            // Step 6: Program & Work Assignment Details
            document.getElementById('programAssigned').value = 'CSL+';
            document.getElementById('zoneAssigned').value = 'West Zone';
            const schoolCheckboxes = document.querySelectorAll('input[name="schools"]');
            if (schoolCheckboxes.length > 0) schoolCheckboxes[0].checked = true;
            if (schoolCheckboxes.length > 1) schoolCheckboxes[1].checked = true;
            if (schoolCheckboxes.length > 2) schoolCheckboxes[2].checked = true;
            updateSelectedSchools();
            document.getElementById('branchRegion').value = 'Pune Region';
            document.getElementById('reportingManager').value = 'Rajesh Kumar';
            document.getElementById('loginRole').value = 'Program Coordinator';
            document.getElementById('joiningDate').value = '2024-01-15';
            document.getElementById('employmentType').value = 'Full-time';

            // Step 7: Bank & Payroll Details
            document.getElementById('bankName').value = 'HDFC Bank';
            document.getElementById('branchName').value = 'MG Road Branch';
            document.getElementById('accountNumber').value = '50100123456789';
            document.getElementById('ifscCode').value = 'HDFC0001234';

            // Step 8: Additional Optional Data
            document.getElementById('strengthAreas').value = 'Team Management, Communication, Problem Solving';
            document.getElementById('hobbies').value = 'Reading, Traveling, Photography';
            document.getElementById('workStyle').value = 'Hybrid';
            document.getElementById('toolsComfortable').value = 'Google Sheets, Trello, Asana';
            document.getElementById('achievements').value = 'Best Program Coordinator Award 2023';
            document.getElementById('careerAspirations').value = 'To lead large-scale educational programs';

            // Trigger age calculation
            document.getElementById('dateOfBirth').dispatchEvent(new Event('change'));

            alert('Form auto-filled with dummy data!');
        }

        document.getElementById('autoFillBtn').addEventListener('click', autoFillForm);

        // Initialize
        updateStepDisplay();

        // Next button handler
        document.getElementById('nextBtn').addEventListener('click', function () {
            if (validateCurrentStep()) {
                saveCurrentStepData();
                if (currentStep < totalSteps) {
                    currentStep++;
                    updateStepDisplay();
                    window.scrollTo(0, 0);
                }
            }
        });

        // Back button handler
        document.getElementById('backBtn').addEventListener('click', function () {
            if (currentStep > 1) {
                currentStep--;
                updateStepDisplay();
                window.scrollTo(0, 0);
            }
        });

        // Form submission handler
        document.getElementById('coordinatorForm').addEventListener('submit', function (e) {
            e.preventDefault();

            if (validateCurrentStep()) {
                saveCurrentStepData();
                console.log('Final Form Data:', formData);
                alert('Program Coordinator onboarded successfully!\n\nCheck console for form data.');
            }
        });

        function updateStepDisplay() {
            // Hide all steps
            for (let i = 1; i <= totalSteps; i++) {
                document.getElementById(`step${i}`).style.display = 'none';
            }

            // Show current step
            document.getElementById(`step${currentStep}`).style.display = 'block';

            // Update stepper UI
            document.querySelectorAll('.step').forEach((step, index) => {
                step.classList.remove('active', 'completed');
                if (index + 1 < currentStep) {
                    step.classList.add('completed');
                } else if (index + 1 === currentStep) {
                    step.classList.add('active');
                }
            });

            // Update buttons
            const backBtn = document.getElementById('backBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');

            backBtn.style.display = currentStep > 1 ? 'flex' : 'none';
            nextBtn.style.display = currentStep < totalSteps ? 'flex' : 'none';
            submitBtn.style.display = currentStep === totalSteps ? 'flex' : 'none';
        }

        function validateCurrentStep() {
            let isValid = true;
            const currentStepElement = document.getElementById(`step${currentStep}`);

            // Get all required fields in the current step
            const requiredFields = currentStepElement.querySelectorAll('input[required], select[required], textarea[required]');

            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    field.classList.add('error');
                    isValid = false;
                } else {
                    field.classList.remove('error');
                }
            });

            // Special validation for multi-select schools in step 6
            if (currentStep === 6) {
                const selectedSchools = document.querySelectorAll('input[name="schools"]:checked');
                if (selectedSchools.length === 0) {
                    isValid = false;
                    selectedItemsContainer.classList.add('error');
                } else {
                    selectedItemsContainer.classList.remove('error');
                }
            }

            if (!isValid) {
                alert('Please fill in all required fields marked with *');
            }

            return isValid;
        }

        function saveCurrentStepData() {
            const currentStepElement = document.getElementById(`step${currentStep}`);
            const inputs = currentStepElement.querySelectorAll('input, select, textarea');

            inputs.forEach(input => {
                if (input.type === 'checkbox' && input.name === 'schools') {
                    if (!formData.schools) formData.schools = [];
                    if (input.checked && !formData.schools.includes(input.value)) {
                        formData.schools.push(input.value);
                    }
                } else if (input.name && input.type !== 'file') {
                    formData[input.name] = input.value;
                } else if (input.type === 'file' && input.files[0]) {
                    formData[input.name] = input.files[0].name;
                }
            });
        }
    </script>
</body>

</html>
