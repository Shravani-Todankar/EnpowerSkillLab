<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>School Admin Dashboard - Enpower Skill Lab</title>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
        rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="admin-dashboard.css">
    <!-- Sidebar JS -->
    <script src="sidebar.js"></script>
    <!-- Header JS -->
    <script src="header.js"></script>
</head>

<body>
    <div class="dashboard-container">
        <!-- Include Sidebar Component -->
        <div id="sidebar-container"></div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Include Header Component -->
            <div id="header-container"></div>

            <!-- Dashboard Content -->
            <div class="dashboard-page">
                <!-- Page Header -->
                <div class="page-header">
                    <div class="page-header-content">
                        <h1 class="page-title">
                            <span class="material-symbols-outlined page-title-icon">dashboard</span>
                            Dashboard
                        </h1>
                        <p class="page-subtitle">Welcome to School Admin Dashboard</p>
                    </div>
                </div>

                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon students">
                            <span class="material-symbols-outlined">school</span>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value">1,245</div>
                            <div class="stat-label">Total Students</div>
                            <div class="stat-change positive">
                                <span class="material-symbols-outlined">trending_up</span>
                                +12% from last month
                            </div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon teachers">
                            <span class="material-symbols-outlined">groups</span>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value">85</div>
                            <div class="stat-label">Total Teachers</div>
                            <div class="stat-change positive">
                                <span class="material-symbols-outlined">trending_up</span>
                                +3% from last month
                            </div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon classes">
                            <span class="material-symbols-outlined">class</span>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value">45</div>
                            <div class="stat-label">Total Classes</div>
                            <div class="stat-change neutral">
                                <span class="material-symbols-outlined">remove</span>
                                No change
                            </div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon subjects">
                            <span class="material-symbols-outlined">menu_book</span>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value">28</div>
                            <div class="stat-label">Total Subjects</div>
                            <div class="stat-change positive">
                                <span class="material-symbols-outlined">trending_up</span>
                                +2 new subjects
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Content Grid -->
                <div class="content-grid">
                    <!-- Recent Activities -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <span class="material-symbols-outlined">history</span>
                                Recent Activities
                            </h3>
                            <a href="#" class="card-action">View All</a>
                        </div>
                        <div class="card-body">
                            <div class="activity-list">
                                <div class="activity-item">
                                    <div class="activity-icon student">
                                        <span class="material-symbols-outlined">person_add</span>
                                    </div>
                                    <div class="activity-content">
                                        <div class="activity-title">New student enrolled</div>
                                        <div class="activity-description">John Doe enrolled in Class 9-A</div>
                                        <div class="activity-time">2 hours ago</div>
                                    </div>
                                </div>
                                <div class="activity-item">
                                    <div class="activity-icon teacher">
                                        <span class="material-symbols-outlined">badge</span>
                                    </div>
                                    <div class="activity-content">
                                        <div class="activity-title">New teacher added</div>
                                        <div class="activity-description">Sarah Smith joined as Math teacher</div>
                                        <div class="activity-time">5 hours ago</div>
                                    </div>
                                </div>
                                <div class="activity-item">
                                    <div class="activity-icon class">
                                        <span class="material-symbols-outlined">event</span>
                                    </div>
                                    <div class="activity-content">
                                        <div class="activity-title">Class scheduled</div>
                                        <div class="activity-description">Physics class scheduled for tomorrow</div>
                                        <div class="activity-time">1 day ago</div>
                                    </div>
                                </div>
                                <div class="activity-item">
                                    <div class="activity-icon assessment">
                                        <span class="material-symbols-outlined">assignment</span>
                                    </div>
                                    <div class="activity-content">
                                        <div class="activity-title">Assessment published</div>
                                        <div class="activity-description">Math mid-term exam published</div>
                                        <div class="activity-time">2 days ago</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <span class="material-symbols-outlined">bolt</span>
                                Quick Actions
                            </h3>
                        </div>
                        <div class="card-body">
                            <div class="quick-actions-grid">
                                <a href="add-student.html" class="quick-action-item">
                                    <div class="quick-action-icon students">
                                        <span class="material-symbols-outlined">person_add</span>
                                    </div>
                                    <div class="quick-action-label">Add Student</div>
                                </a>
                                <a href="add-teacher.html" class="quick-action-item">
                                    <div class="quick-action-icon teachers">
                                        <span class="material-symbols-outlined">badge</span>
                                    </div>
                                    <div class="quick-action-label">Add Teacher</div>
                                </a>
                                <a href="add-class.html" class="quick-action-item">
                                    <div class="quick-action-icon classes">
                                        <span class="material-symbols-outlined">add_circle</span>
                                    </div>
                                    <div class="quick-action-label">Create Class</div>
                                </a>
                                <a href="assign-subjects.html" class="quick-action-item">
                                    <div class="quick-action-icon subjects">
                                        <span class="material-symbols-outlined">assignment</span>
                                    </div>
                                    <div class="quick-action-label">Assign Subjects</div>
                                </a>
                                <a href="upload-student-csv.html" class="quick-action-item">
                                    <div class="quick-action-icon upload">
                                        <span class="material-symbols-outlined">upload_file</span>
                                    </div>
                                    <div class="quick-action-label">Upload CSV</div>
                                </a>
                                <a href="assessment-overview.html" class="quick-action-item">
                                    <div class="quick-action-icon assessment">
                                        <span class="material-symbols-outlined">quiz</span>
                                    </div>
                                    <div class="quick-action-label">Assessments</div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bottom Grid -->
                <div class="bottom-grid">
                    <!-- Upcoming Events -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <span class="material-symbols-outlined">event</span>
                                Upcoming Events
                            </h3>
                            <a href="#" class="card-action">View Calendar</a>
                        </div>
                        <div class="card-body">
                            <div class="event-list">
                                <div class="event-item">
                                    <div class="event-date">
                                        <div class="event-day">28</div>
                                        <div class="event-month">NOV</div>
                                    </div>
                                    <div class="event-details">
                                        <div class="event-title">Parent-Teacher Meeting</div>
                                        <div class="event-time">10:00 AM - 2:00 PM</div>
                                    </div>
                                    <span class="event-badge meeting">Meeting</span>
                                </div>
                                <div class="event-item">
                                    <div class="event-date">
                                        <div class="event-day">30</div>
                                        <div class="event-month">NOV</div>
                                    </div>
                                    <div class="event-details">
                                        <div class="event-title">Annual Sports Day</div>
                                        <div class="event-time">9:00 AM - 5:00 PM</div>
                                    </div>
                                    <span class="event-badge sports">Sports</span>
                                </div>
                                <div class="event-item">
                                    <div class="event-date">
                                        <div class="event-day">05</div>
                                        <div class="event-month">DEC</div>
                                    </div>
                                    <div class="event-details">
                                        <div class="event-title">Final Examinations Begin</div>
                                        <div class="event-time">All Day</div>
                                    </div>
                                    <span class="event-badge exam">Exam</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Class Distribution -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <span class="material-symbols-outlined">pie_chart</span>
                                Class Distribution
                            </h3>
                        </div>
                        <div class="card-body">
                            <div class="distribution-list">
                                <div class="distribution-item">
                                    <div class="distribution-info">
                                        <div class="distribution-label">Class 9</div>
                                        <div class="distribution-value">320 students</div>
                                    </div>
                                    <div class="distribution-bar">
                                        <div class="distribution-fill" style="width: 80%;"></div>
                                    </div>
                                </div>
                                <div class="distribution-item">
                                    <div class="distribution-info">
                                        <div class="distribution-label">Class 10</div>
                                        <div class="distribution-value">285 students</div>
                                    </div>
                                    <div class="distribution-bar">
                                        <div class="distribution-fill" style="width: 70%;"></div>
                                    </div>
                                </div>
                                <div class="distribution-item">
                                    <div class="distribution-info">
                                        <div class="distribution-label">Class 11</div>
                                        <div class="distribution-value">340 students</div>
                                    </div>
                                    <div class="distribution-bar">
                                        <div class="distribution-fill" style="width: 85%;"></div>
                                    </div>
                                </div>
                                <div class="distribution-item">
                                    <div class="distribution-info">
                                        <div class="distribution-label">Class 12</div>
                                        <div class="distribution-value">300 students</div>
                                    </div>
                                    <div class="distribution-bar">
                                        <div class="distribution-fill" style="width: 75%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Load Sidebar and Header Components
        document.addEventListener('DOMContentLoaded', function() {
            Promise.all([
                fetch('sidebar.html').then(response => response.text()),
                fetch('header.html').then(response => response.text())
            ]).then(([sidebarHTML, headerHTML]) => {
                document.getElementById('sidebar-container').innerHTML = sidebarHTML;
                document.getElementById('header-container').innerHTML = headerHTML;

                // Wait a bit for sidebar.js to initialize, then set active state
                setTimeout(() => {
                    setActiveMenuItem();
                }, 200);
            });
        });

        function setActiveMenuItem() {
            // For dashboard, we can manually set an active state if needed
            const currentPage = window.location.pathname.split('/').pop();
            console.log('Current page:', currentPage);

            // Get all sidebar links
            const sidebarLinks = document.querySelectorAll('.sidebar-dropdown-menu a');

            // Remove all active classes first
            sidebarLinks.forEach(link => link.classList.remove('active'));

            // Add active class based on current page
            const navLinks = {
                'admin-dashboard.html': 'nav-dashboard',
                'teacher-list.html': 'nav-teacher-list',
                'add-teacher.html': 'nav-add-teacher',
                'upload-teacher-csv.html': 'nav-upload-teacher-csv',
                'student-list.html': 'nav-student-list',
                'add-student.html': 'nav-add-student',
                'upload-student-csv.html': 'nav-upload-student-csv',
                'class-list.html': 'nav-class-list',
                'add-class.html': 'nav-add-class',
                'classes-subjects.html': 'nav-classes-subjects',
                'assign-subjects.html': 'nav-assign-subjects',
                'assessment-overview.html': 'nav-assessment-overview',
                'lms-overview.html': 'nav-lms-overview'
            };

            if (navLinks[currentPage]) {
                const activeLink = document.getElementById(navLinks[currentPage]);
                if (activeLink) {
                    activeLink.classList.add('active');
                    console.log('Active link set:', navLinks[currentPage]);

                    // Also open the parent dropdown
                    const dropdown = activeLink.closest('.sidebar-dropdown');
                    if (dropdown) {
                        dropdown.classList.add('active');
                    }
                }
            }
        }
    </script>
</body>

</html>
