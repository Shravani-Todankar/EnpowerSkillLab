<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Parent Dashboard - Enpower Skill Lab</title>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet" />

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Sidebar JS -->
    <script src="sidebar.js"></script>
    <!-- Header JS -->
    <script src="header.js"></script>

    <style>
        /* Prevent FOUC - hide containers until loaded */
        #sidebar-container:empty,
        #header-container:empty {
            opacity: 0;
            visibility: hidden;
        }

        #sidebar-container.loaded,
        #header-container.loaded {
            opacity: 1;
            visibility: visible;
            transition: opacity 0.2s ease-in;
        }

        :root {
            --primary: #5b1f6f;
            --background-light: #f7f6f8;
            --text-dark: #171019;
            --text-muted: #80588d;
            --border-color: #efe9f1;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background-light);
            color: var(--text-dark);
        }

        .material-symbols-outlined {
            font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }

        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }

        .dashboard-page {
            padding: 2rem 1rem;
        }

        @media (min-width: 768px) {
            .dashboard-page {
                padding: 2.5rem 2.5rem;
            }
        }

        @media (min-width: 992px) {
            .dashboard-page {
                padding: 2rem 1.5rem;
            }
        }

        /* Page Header */
        .page-header {
            margin-bottom: 2rem;
        }

        .page-title {
            font-size: 2rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 0.5rem;
        }

        @media (min-width: 768px) {
            .page-title {
                font-size: 2rem;
            }
        }

        .page-subtitle {
            color: var(--text-muted);
            font-size: 1rem;
            margin-bottom: 1.5rem;
        }

        /* Child Switcher */
        .child-switcher {
            background: white;
            padding: 0.375rem;
            border-radius: 0.75rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--border-color);
            display: inline-flex;
            gap: 0.5rem;
            overflow-x: auto;
            max-width: 100%;
        }

        .child-tab {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.625rem 1.5rem;
            border-radius: 0.5rem;
            border: none;
            background: transparent;
            color: var(--text-muted);
            transition: all 0.2s;
            white-space: nowrap;
        }

        .child-tab:hover {
            background-color: var(--background-light);
        }

        .child-tab.active {
            background: var(--primary);
            color: white;
            box-shadow: 0 4px 6px rgba(91, 31, 111, 0.25);
        }

        .child-tab .material-symbols-outlined {
            font-size: 20px;
        }

        .child-tab-info {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            font-size: 0.875rem;
        }

        .child-tab-name {
            font-weight: 700;
            line-height: 1;
        }

        .child-tab-grade {
            font-size: 0.75rem;
            opacity: 0.9;
            line-height: 1;
            margin-top: 0.125rem;
        }

        /* Summary Card */
        .summary-card {
            background: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--border-color);
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .summary-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 16rem;
            height: 16rem;
            background: radial-gradient(circle, rgba(91, 31, 111, 0.05) 0%, transparent 70%);
            margin-right: -4rem;
            margin-top: -4rem;
            pointer-events: none;
        }

        .student-profile {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
            position: relative;
            z-index: 1;
        }

        @media (min-width: 768px) {
            .student-profile {
                flex-direction: row;
                align-items: flex-start;
            }
        }

        .student-avatar {
            width: 6rem;
            height: 6rem;
            border-radius: 0.75rem;
            background-size: cover;
            background-position: center;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
        }

        @media (min-width: 768px) {
            .student-avatar {
                width: 7rem;
                height: 7rem;
            }
        }

        .student-info {
            flex: 1;
            text-align: center;
        }

        @media (min-width: 768px) {
            .student-info {
                text-align: left;
            }
        }

        .student-name {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 0.25rem;
        }

        .status-badge {
            padding: 0.125rem 0.5rem;
            background: #d1fae5;
            color: #166534;
            font-size: 0.75rem;
            font-weight: 700;
            border-radius: 9999px;
            display: inline-flex;
            align-items: center;
            margin-left: 0.5rem;
        }

        .student-grade {
            color: var(--primary);
            font-weight: 500;
            font-size: 1.125rem;
            margin-bottom: 0.5rem;
        }

        .student-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            font-size: 0.875rem;
            color: var(--text-muted);
            justify-content: center;
        }

        @media (min-width: 768px) {
            .student-meta {
                justify-content: flex-start;
            }
        }

        .student-meta-item {
            display: flex;
            align-items: center;
            gap: 0.375rem;
        }

        .student-meta-item .material-symbols-outlined {
            font-size: 18px;
        }

        .btn-message-coach {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            background: white;
            color: var(--primary);
            font-size: 0.875rem;
            font-weight: 700;
            transition: background 0.2s;
            text-decoration: none;
        }

        .btn-message-coach:hover {
            background: rgba(91, 31, 111, 0.05);
            color: var(--primary);
        }

        .btn-message-coach .material-symbols-outlined {
            font-size: 18px;
        }

        /* KPI Grid */
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        @media (min-width: 576px) {
            .kpi-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 992px) {
            .kpi-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .kpi-card {
            background: white;
            padding: 1.25rem;
            border-radius: 0.75rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            transition: border-color 0.2s;
        }

        .kpi-card:hover {
            border-color: rgba(91, 31, 111, 0.3);
        }

        .kpi-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.5rem;
        }

        .kpi-icon {
            padding: 0.5rem;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .kpi-icon.blue {
            background: #dbeafe;
            color: #2563eb;
        }

        .kpi-icon.purple {
            background: #f3e8ff;
            color: var(--primary);
        }

        .kpi-icon.orange {
            background: #fed7aa;
            color: #ea580c;
        }

        .kpi-icon.teal {
            background: #ccfbf1;
            color: #0f766e;
        }

        .kpi-badge {
            background: #d1fae5;
            color: #166534;
            font-size: 0.75rem;
            font-weight: 700;
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
        }

        .kpi-label {
            color: var(--text-muted);
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .kpi-value {
            color: var(--text-dark);
            font-size: 1.5rem;
            font-weight: 700;
        }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        @media (min-width: 992px) {
            .content-grid {
                grid-template-columns: 2fr 1fr;
            }
        }

        /* Card */
        .card-custom {
            background: white;
            border-radius: 0.75rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .card-header-custom {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }

        .card-title-custom {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--text-dark);
            margin: 0;
        }

        .card-action-link {
            color: var(--primary);
            font-size: 0.875rem;
            font-weight: 700;
            text-decoration: none;
        }

        .card-action-link:hover {
            text-decoration: underline;
            color: var(--primary);
        }

        /* Attendance Chart */
        .chart-container {
            position: relative;
            height: 14rem;
            width: 100%;
            padding: 1rem 0;
        }

        .bar-chart {
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            height: 100%;
            gap: 0.75rem;
            padding: 0 0.5rem;
        }

        @media (min-width: 768px) {
            .bar-chart {
                gap: 1rem;
                padding: 0 1rem;
            }
        }

        .bar-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            max-width: 90px;
            min-width: 40px;
        }

        .bar-wrapper {
            width: 100%;
            height: 10rem;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            position: relative;
        }

        .bar {
            width: 100%;
            background: linear-gradient(180deg, var(--primary) 0%, #7E22CE 100%);
            border-radius: 0.5rem 0.5rem 0 0;
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
        }

        .bar:hover {
            opacity: 0.85;
            transform: scaleY(1.02);
        }

        .bar-value {
            position: absolute;
            top: -1.5rem;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.75rem;
            font-weight: 700;
            color: var(--text-dark);
            white-space: nowrap;
        }

        .bar-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            font-weight: 500;
            text-align: center;
        }

        /* Academic Performance */
        .performance-item {
            margin-bottom: 1.25rem;
        }

        .performance-item:last-child {
            margin-bottom: 0;
        }

        .performance-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-bottom: 0.5rem;
        }

        .performance-subject {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--text-dark);
        }

        .performance-badge {
            font-size: 0.75rem;
            font-weight: 700;
            padding: 0.125rem 0.5rem;
            border-radius: 0.25rem;
        }

        .performance-badge.good {
            background: #d1fae5;
            color: #166534;
        }

        .performance-badge.attention {
            background: #fed7aa;
            color: #9a3412;
        }

        .performance-badge.excellent {
            background: #d1fae5;
            color: #166534;
        }

        .progress-bar-container {
            width: 100%;
            background: #f0ecf2;
            border-radius: 9999px;
            height: 0.625rem;
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            background: var(--primary);
            border-radius: 9999px;
            transition: width 0.3s;
        }

        .progress-bar-fill.orange {
            background: #fb923c;
        }

        /* Learning Progress */
        .learning-progress {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }

        @media (min-width: 576px) {
            .learning-progress {
                flex-direction: row;
                align-items: center;
            }
        }

        .circular-progress {
            position: relative;
            width: 8rem;
            height: 8rem;
            flex-shrink: 0;
        }

        .circular-progress svg {
            width: 100%;
            height: 100%;
            transform: rotate(-90deg);
        }

        .circular-progress-text {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .circular-progress-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-dark);
        }

        .learning-details {
            flex: 1;
        }

        .learning-title {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 0.75rem;
        }

        .learning-description {
            font-size: 0.875rem;
            color: var(--text-muted);
            margin-bottom: 0.75rem;
        }

        .learning-stats {
            display: flex;
            gap: 2rem;
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 1rem;
        }

        .learning-stat-value {
            color: var(--text-dark);
            font-weight: 700;
        }

        .learning-stat-label {
            color: var(--text-muted);
        }

        .btn-view-details {
            background: var(--primary);
            color: white;
            font-size: 0.875rem;
            font-weight: 700;
            padding: 0.625rem 1.25rem;
            border-radius: 0.5rem;
            border: none;
            transition: opacity 0.2s;
        }

        .btn-view-details:hover {
            opacity: 0.9;
        }

        /* Recent Activity */
        .activity-timeline {
            position: relative;
        }

        /* .activity-line {
            position: absolute;
            left: 1.25rem;
            top: 1rem;
            bottom: 1rem;
            width: 2px;
            background: var(--border-color);
            z-index: 0;
        } */

        .activity-item {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            position: relative;
        }

        .activity-item:last-child {
            margin-bottom: 0;
        }

        .activity-icon {
            padding: 0.5rem;
            border-radius: 9999px;
            z-index: 1;
            box-shadow: 0 0 0 4px white;
            flex-shrink: 0;
            width: 35px;
            height: 35px;
        }

        .activity-icon.blue {
            background: #dbeafe;
            color: #2563eb;
        }

        .activity-icon.yellow {
            background: #fef3c7;
            color: #ca8a04;
        }

        .activity-icon.purple {
            background: rgba(91, 31, 111, 0.1);
            color: var(--primary);
        }

        .activity-icon.red {
            background: #fee2e2;
            color: #dc2626;
        }

        .activity-icon .material-symbols-outlined {
            font-size: 18px;
            display: block;
        }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-size: 0.875rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 0.125rem;
        }

        .activity-description {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-bottom: 0;
        }

        .btn-view-all {
            width: 100%;
            margin-top: 1.5rem;
            font-size: 0.875rem;
            color: var(--text-muted);
            font-weight: 500;
            background: transparent;
            border: none;
            padding: 0.5rem;
            transition: color 0.2s;
        }

        .btn-view-all:hover {
            color: var(--primary);
        }

        /* Quick Actions */
        .action-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            padding: 0.75rem 1rem;
            background: var(--background-light);
            border-radius: 0.5rem;
            border: none;
            text-align: left;
            transition: background 0.2s;
            margin-bottom: 0.75rem;
        }

        .action-item:last-child {
            margin-bottom: 0;
        }

        .action-item:hover {
            background: var(--border-color);
        }

        .action-item-left {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .action-item-left .material-symbols-outlined {
            color: var(--primary);
        }

        .action-item-title {
            font-size: 0.875rem;
            font-weight: 700;
            color: var(--text-dark);
        }

        .action-item-right .material-symbols-outlined {
            font-size: 18px;
            color: var(--text-muted);
            transition: transform 0.2s;
        }

        .action-item:hover .action-item-right .material-symbols-outlined {
            transform: translateX(0.25rem);
        }

        .select-filter {
            background: var(--background-light);
            border: none;
            font-size: 0.75rem;
            font-weight: 700;
            color: var(--primary);
            padding: 0.375rem 0.75rem;
            border-radius: 0.5rem;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <div class="dashboard-container">
        <!-- Include Sidebar Component -->
        <div id="sidebar-container"></div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Include Header Component -->
            <div id="header-container"></div>

            <div class="dashboard-page">
                <!-- Page Heading & Child Switcher -->
                <div class="page-header">
                    <div class="row align-items-end g-3">
                        <div class="col-12 col-md-6">
                            <h1 class="page-title">Parent Dashboard</h1>
                            <p class="page-subtitle">Track your child's progress and school activity.</p>
                        </div>
                        <!-- Child Switcher Tabs -->
                        <div class="col-12 col-md-6 d-flex justify-content-md-end">
                            <div class="child-switcher">
                                <button class="child-tab active">
                                    <span class="material-symbols-outlined">face</span>
                                    <div class="child-tab-info">
                                        <span class="child-tab-name">Alex</span>
                                        <span class="child-tab-grade">Grade 10</span>
                                    </div>
                                </button>
                                <button class="child-tab">
                                    <span class="material-symbols-outlined">face_3</span>
                                    <div class="child-tab-info">
                                        <span class="child-tab-name">Sarah</span>
                                        <span class="child-tab-grade">Grade 8</span>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Selected Child Summary Card -->
                <div class="summary-card">
                    <div class="student-profile">
                        <div class="student-avatar" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuAQJwOX2S4o51MmWTO5c_rSF9tXr_fNP3Sr3we4s-_ELfN29pLbcXDT_aYsYTJWFOdsVGOdJ59ay7JYBSJ_TP0-Gn0d0isUyyBlCuY21SQDqte1nOXoo1zrEojrrquqXkV2Ksoz8GpTAOqmHaqKRnxSN5k53YGBSeLDj-LiW0L2sPKtUAXO5VyE413e805Z2UCyeYkVylprHmY1wDUmI4f_AHbTEPdP5Uqj_r1IScsl0YCPhvQ2vaGWTPWVWuBq14RdH4m9XJi0izvR");'></div>
                        <div class="student-info">
                            <div>
                                <span class="student-name">Alex Doe</span>
                                <span class="status-badge">Active</span>
                            </div>
                            <p class="student-grade">Grade 10 - Section B</p>
                            <div class="student-meta">
                                <div class="student-meta-item">
                                    <span class="material-symbols-outlined">school</span>
                                    <span>Greenwood High</span>
                                </div>
                                <div class="student-meta-item">
                                    <span class="material-symbols-outlined">psychology</span>
                                    <span>Thinking Coach: <strong style="color: var(--text-dark);">Mr. Anderson</strong></span>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="mt-2 mt-md-0">
                            <a href="#" class="btn-message-coach">
                                <span class="material-symbols-outlined">mail</span>
                                Message Coach
                            </a>
                        </div> -->
                    </div>
                </div>

                <!-- KPI Grid -->
                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon blue">
                                <span class="material-symbols-outlined">calendar_month</span>
                            </div>
                            <span class="kpi-badge">+2%</span>
                        </div>
                        <div>
                            <p class="kpi-label">Attendance %</p>
                            <p class="kpi-value">92%</p>
                        </div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon purple">
                                <span class="material-symbols-outlined">monitoring</span>
                            </div>
                            <span class="kpi-badge">+5%</span>
                        </div>
                        <div>
                            <p class="kpi-label">Overall Performance</p>
                            <p class="kpi-value">85%</p>
                        </div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon orange">
                                <span class="material-symbols-outlined">assignment_turned_in</span>
                            </div>
                        </div>
                        <div>
                            <p class="kpi-label">Assessments Done</p>
                            <p class="kpi-value">12</p>
                        </div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon teal">
                                <span class="material-symbols-outlined">book</span>
                            </div>
                        </div>
                        <div>
                            <p class="kpi-label">Lessons Completed</p>
                            <p class="kpi-value">45</p>
                        </div>
                    </div>
                </div>

                <!-- Main Content Grid -->
                <div class="content-grid">
                    <!-- Left Column (Data & Charts) -->
                    <div>
                        <!-- Attendance Overview -->
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <h3 class="card-title-custom">Attendance Overview</h3>
                                <select class="select-filter" id="attendanceFilter">
                                    <option>Last 6 Months</option>
                                    <option>This Year</option>
                                </select>
                            </div>
                            <div class="chart-container">
                                <div class="bar-chart" id="attendanceBarChart">
                                    <div class="bar-item">
                                        <div class="bar-wrapper">
                                            <div class="bar" style="height: 88%;">
                                                <span class="bar-value">88%</span>
                                            </div>
                                        </div>
                                        <span class="bar-label">Jul</span>
                                    </div>
                                    <div class="bar-item">
                                        <div class="bar-wrapper">
                                            <div class="bar" style="height: 92%;">
                                                <span class="bar-value">92%</span>
                                            </div>
                                        </div>
                                        <span class="bar-label">Aug</span>
                                    </div>
                                    <div class="bar-item">
                                        <div class="bar-wrapper">
                                            <div class="bar" style="height: 85%;">
                                                <span class="bar-value">85%</span>
                                            </div>
                                        </div>
                                        <span class="bar-label">Sep</span>
                                    </div>
                                    <div class="bar-item">
                                        <div class="bar-wrapper">
                                            <div class="bar" style="height: 95%;">
                                                <span class="bar-value">95%</span>
                                            </div>
                                        </div>
                                        <span class="bar-label">Oct</span>
                                    </div>
                                    <div class="bar-item">
                                        <div class="bar-wrapper">
                                            <div class="bar" style="height: 90%;">
                                                <span class="bar-value">90%</span>
                                            </div>
                                        </div>
                                        <span class="bar-label">Nov</span>
                                    </div>
                                    <div class="bar-item">
                                        <div class="bar-wrapper">
                                            <div class="bar" style="height: 93%;">
                                                <span class="bar-value">93%</span>
                                            </div>
                                        </div>
                                        <span class="bar-label">Dec</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Academic Performance -->
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <h3 class="card-title-custom">Academic Performance</h3>
                                <a href="#" class="card-action-link">View All</a>
                            </div>
                            <div>
                                <div class="performance-item">
                                    <div class="performance-header">
                                        <span class="performance-subject">Mathematics</span>
                                        <span class="performance-badge good">Good</span>
                                    </div>
                                    <div class="progress-bar-container">
                                        <div class="progress-bar-fill" style="width: 85%"></div>
                                    </div>
                                </div>
                                <div class="performance-item">
                                    <div class="performance-header">
                                        <span class="performance-subject">Science</span>
                                        <span class="performance-badge good">Good</span>
                                    </div>
                                    <div class="progress-bar-container">
                                        <div class="progress-bar-fill" style="width: 78%"></div>
                                    </div>
                                </div>
                                <div class="performance-item">
                                    <div class="performance-header">
                                        <span class="performance-subject">English Literature</span>
                                        <span class="performance-badge attention">Needs Attention</span>
                                    </div>
                                    <div class="progress-bar-container">
                                        <div class="progress-bar-fill orange" style="width: 62%"></div>
                                    </div>
                                </div>
                                <div class="performance-item">
                                    <div class="performance-header">
                                        <span class="performance-subject">Public Speaking</span>
                                        <span class="performance-badge excellent">Excellent</span>
                                    </div>
                                    <div class="progress-bar-container">
                                        <div class="progress-bar-fill" style="width: 92%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Learning Progress -->
                        <div class="card-custom">
                            <div class="learning-progress">
                                <div class="circular-progress">
                                    <svg viewBox="0 0 36 36">
                                        <!-- Background Circle -->
                                        <path class="text-gray-100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="#e5e7eb" stroke-width="4"></path>
                                        <!-- Progress Circle -->
                                        <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="#5b1f6f" stroke-dasharray="75, 100" stroke-linecap="round" stroke-width="4"></path>
                                    </svg>
                                    <div class="circular-progress-text">
                                        <span class="circular-progress-value">75%</span>
                                    </div>
                                </div>
                                <div class="learning-details">
                                    <h3 class="learning-title">Current Module: Business Basics</h3>
                                    <p class="learning-description">You have completed 9 out of 12 lessons. Keep up the great work!</p>
                                    <div class="learning-stats">
                                        <div>
                                            <span class="learning-stat-value">12</span> <span class="learning-stat-label">Assigned</span>
                                        </div>
                                        <div>
                                            <span class="learning-stat-value" style="color: var(--primary);">9</span> <span class="learning-stat-label">Completed</span>
                                        </div>
                                    </div>
                                    <button class="btn-view-details">View Learning Details</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column (Sidebar) -->
                    <div>
                        <!-- Recent Activity & Alerts -->
                        <div class="card-custom">
                            <div class="card-header-custom">
                                <h3 class="card-title-custom">Recent Activity</h3>
                                <span class="material-symbols-outlined" style="color: var(--text-muted);">notifications</span>
                            </div>
                            <div class="activity-timeline">
                                <div class="activity-item">
                                    <div class="activity-icon blue">
                                        <span class="material-symbols-outlined">assignment_turned_in</span>
                                    </div>
                                    <div class="activity-content">
                                        <p class="activity-title">Math Assessment Submitted</p>
                                        <p class="activity-description">Score: 92/100</p>
                                    </div>
                                </div>
                                <div class="activity-item">
                                    <div class="activity-icon yellow">
                                        <span class="material-symbols-outlined">campaign</span>
                                    </div>
                                    <div class="activity-content">
                                        <p class="activity-title">Annual Sports Meet</p>
                                        <p class="activity-description">Registration closes tomorrow.</p>
                                    </div>
                                </div>
                                <div class="activity-item">
                                    <div class="activity-icon purple">
                                        <span class="material-symbols-outlined">comment</span>
                                    </div>
                                    <div class="activity-content">
                                        <p class="activity-title">Comment from Mr. Anderson</p>
                                        <p class="activity-description" style="font-style: italic;">"Alex showed great leadership today..."</p>
                                    </div>
                                </div>
                                <div class="activity-item">
                                    <div class="activity-icon red">
                                        <span class="material-symbols-outlined">warning</span>
                                    </div>
                                    <div class="activity-content">
                                        <p class="activity-title">Absent Alert</p>
                                        <p class="activity-description">Alex was marked absent on Monday.</p>
                                    </div>
                                </div>
                            </div>
                            <button class="btn-view-all">View All Activity</button>
                        </div>

                        <!-- Quick Actions -->
                        <div class="card-custom">
                            <h3 class="card-title-custom mb-3">Reports & Actions</h3>
                            <div>
                                <button class="action-item">
                                    <div class="action-item-left">
                                        <span class="material-symbols-outlined">download</span>
                                        <span class="action-item-title">Download Progress Report</span>
                                    </div>
                                    <div class="action-item-right">
                                        <span class="material-symbols-outlined">chevron_right</span>
                                    </div>
                                </button>
                                <button class="action-item">
                                    <div class="action-item-left">
                                        <span class="material-symbols-outlined">visibility</span>
                                        <span class="action-item-title">View Detailed Report</span>
                                    </div>
                                    <div class="action-item-right">
                                        <span class="material-symbols-outlined">chevron_right</span>
                                    </div>
                                </button>
                                <button class="action-item">
                                    <div class="action-item-left">
                                        <span class="material-symbols-outlined">calendar_add_on</span>
                                        <span class="action-item-title">Request Meeting</span>
                                    </div>
                                    <div class="action-item-right">
                                        <span class="material-symbols-outlined">chevron_right</span>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Child data storage
        const childrenData = {
            'alex': {
                name: 'Alex Doe',
                grade: 'Grade 10 - Section B',
                gradeShort: 'Grade 10',
                school: 'Greenwood High',
                coach: 'Mr. Anderson',
                avatar: 'https://lh3.googleusercontent.com/aida-public/AB6AXuAQJwOX2S4o51MmWTO5c_rSF9tXr_fNP3Sr3we4s-_ELfN29pLbcXDT_aYsYTJWFOdsVGOdJ59ay7JYBSJ_TP0-Gn0d0isUyyBlCuY21SQDqte1nOXoo1zrEojrrquqXkV2Ksoz8GpTAOqmHaqKRnxSN5k53YGBSeLDj-LiW0L2sPKtUAXO5VyE413e805Z2UCyeYkVylprHmY1wDUmI4f_AHbTEPdP5Uqj_r1IScsl0YCPhvQ2vaGWTPWVWuBq14RdH4m9XJi0izvR',
                kpis: {
                    attendance: { value: '92%', badge: '+2%' },
                    performance: { value: '85%', badge: '+5%' },
                    assessments: { value: '12' },
                    lessons: { value: '45' }
                },
                performance: [
                    { subject: 'Mathematics', score: 85, badge: 'Good', color: '' },
                    { subject: 'Science', score: 78, badge: 'Good', color: '' },
                    { subject: 'English Literature', score: 62, badge: 'Needs Attention', color: 'orange' },
                    { subject: 'Public Speaking', score: 92, badge: 'Excellent', color: '' }
                ],
                learningProgress: {
                    percent: 75,
                    module: 'Business Basics',
                    completed: 9,
                    total: 12
                },
                attendance: [
                    { month: 'Jul', value: 88 },
                    { month: 'Aug', value: 92 },
                    { month: 'Sep', value: 85 },
                    { month: 'Oct', value: 95 },
                    { month: 'Nov', value: 90 },
                    { month: 'Dec', value: 93 }
                ]
            },
            'sarah': {
                name: 'Sarah Doe',
                grade: 'Grade 8 - Section A',
                gradeShort: 'Grade 8',
                school: 'Greenwood High',
                coach: 'Ms. Roberts',
                avatar: 'https://lh3.googleusercontent.com/aida-public/AB6AXuA0XUhc3rwEPcwWj94M7GQcb6UHOhH4eNrVdz0rl_9UKm4J-LENnCBNjdS-qRy3SmwtP4uwztNgU26erUzaNeedvW-wdtAFwZbQ4455POQ_3gOebWnSZdrGOWRvmiqp0_a8_yk49BiRFc6LtXKklmmlymvasM_o272yG3du2LYSytAOewgVcjdwr0AostKW53_C1hZB9m4th7CAYUXZrDPaOu5g67xOhjNuVLE6ozVuCqo5hdUN0ChEgiVdOncm8tFckp1OJe0aOuW1',
                kpis: {
                    attendance: { value: '96%', badge: '+3%' },
                    performance: { value: '91%', badge: '+8%' },
                    assessments: { value: '15' },
                    lessons: { value: '52' }
                },
                performance: [
                    { subject: 'Mathematics', score: 92, badge: 'Excellent', color: '' },
                    { subject: 'Science', score: 88, badge: 'Good', color: '' },
                    { subject: 'English Literature', score: 94, badge: 'Excellent', color: '' },
                    { subject: 'Public Speaking', score: 85, badge: 'Good', color: '' }
                ],
                learningProgress: {
                    percent: 87,
                    module: 'Creative Writing',
                    completed: 13,
                    total: 15
                },
                attendance: [
                    { month: 'Jul', value: 94 },
                    { month: 'Aug', value: 96 },
                    { month: 'Sep', value: 91 },
                    { month: 'Oct', value: 98 },
                    { month: 'Nov', value: 95 },
                    { month: 'Dec', value: 97 }
                ]
            }
        };

        let currentChild = 'alex';

        // Load Sidebar and Header Components
        document.addEventListener('DOMContentLoaded', function() {
            Promise.all([
                fetch('sidebar.html').then(response => response.text()),
                fetch('header.html').then(response => response.text())
            ]).then(([sidebarHTML, headerHTML]) => {
                document.getElementById('sidebar-container').innerHTML = sidebarHTML;
                document.getElementById('header-container').innerHTML = headerHTML;

                // Use setTimeout to ensure DOM has parsed the inserted HTML
                setTimeout(() => {
                    // Call sidebar initialization
                    if (typeof initializeSidebar === 'function') {
                        initializeSidebar();
                    }

                    // Call header initialization directly instead of relying on DOMContentLoaded
                    if (typeof initializeHeader === 'function') {
                        initializeHeader();
                    }

                    // Mark containers as loaded to make them visible with smooth transition
                    document.getElementById('sidebar-container').classList.add('loaded');
                    document.getElementById('header-container').classList.add('loaded');

                    // Wait a bit for sidebar.js to initialize, then set active state
                    setActiveMenuItem();
                }, 200);
            });

            // Initialize child switcher
            initializeChildSwitcher();

            // Initialize action buttons
            initializeActionButtons();
        });

        function setActiveMenuItem() {
            const currentPage = window.location.pathname.split('/').pop();
            const navDashboard = document.getElementById('nav-dashboard');
            if (navDashboard && currentPage === 'newdash.html') {
                navDashboard.classList.add('active');
            }
        }

        // Initialize child switcher functionality
        function initializeChildSwitcher() {
            const childTabs = document.querySelectorAll('.child-tab');
            childTabs.forEach((tab, index) => {
                tab.addEventListener('click', function() {
                    // Update active state
                    childTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');

                    // Switch child data
                    currentChild = index === 0 ? 'alex' : 'sarah';
                    updateDashboardData(currentChild);
                });
            });
        }

        // Update dashboard with child data
        function updateDashboardData(childKey) {
            const data = childrenData[childKey];

            // Update student profile
            document.querySelector('.student-avatar').style.backgroundImage = `url("${data.avatar}")`;
            document.querySelector('.student-name').textContent = data.name;
            document.querySelector('.student-grade').textContent = data.grade;
            document.querySelector('.student-meta-item:nth-child(2) strong').textContent = data.coach;

            // Update KPIs
            const kpiValues = document.querySelectorAll('.kpi-value');
            kpiValues[0].textContent = data.kpis.attendance.value;
            kpiValues[1].textContent = data.kpis.performance.value;
            kpiValues[2].textContent = data.kpis.assessments.value;
            kpiValues[3].textContent = data.kpis.lessons.value;

            const kpiBadges = document.querySelectorAll('.kpi-badge');
            if (kpiBadges.length >= 2) {
                kpiBadges[0].textContent = data.kpis.attendance.badge;
                kpiBadges[1].textContent = data.kpis.performance.badge;
            }

            // Update academic performance
            const performanceItems = document.querySelectorAll('.performance-item');
            data.performance.forEach((item, index) => {
                if (performanceItems[index]) {
                    const subject = performanceItems[index].querySelector('.performance-subject');
                    const badge = performanceItems[index].querySelector('.performance-badge');
                    const fill = performanceItems[index].querySelector('.progress-bar-fill');

                    subject.textContent = item.subject;
                    badge.textContent = item.badge;
                    badge.className = `performance-badge ${item.badge.toLowerCase().replace(' ', '-')}`;

                    if (item.color === 'orange') {
                        badge.classList.add('attention');
                        fill.classList.add('orange');
                    } else if (item.badge === 'Excellent') {
                        badge.classList.add('excellent');
                        fill.classList.remove('orange');
                    } else {
                        badge.classList.add('good');
                        fill.classList.remove('orange');
                    }

                    fill.style.width = `${item.score}%`;
                }
            });

            // Update learning progress
            const progress = data.learningProgress;
            document.querySelector('.circular-progress-value').textContent = `${progress.percent}%`;

            const progressPath = document.querySelector('.circular-progress svg path:nth-child(2)');
            if (progressPath) {
                progressPath.setAttribute('stroke-dasharray', `${progress.percent}, 100`);
            }

            document.querySelector('.learning-title').textContent = `Current Module: ${progress.module}`;
            document.querySelector('.learning-description').textContent =
                `You have completed ${progress.completed} out of ${progress.total} lessons. Keep up the great work!`;

            const statsValues = document.querySelectorAll('.learning-stat-value');
            statsValues[0].textContent = progress.total;
            statsValues[1].textContent = progress.completed;

            // Update attendance bar chart
            const barItems = document.querySelectorAll('.bar-item');
            data.attendance.forEach((item, index) => {
                if (barItems[index]) {
                    const bar = barItems[index].querySelector('.bar');
                    const barValue = barItems[index].querySelector('.bar-value');

                    if (bar && barValue) {
                        bar.style.height = `${item.value}%`;
                        barValue.textContent = `${item.value}%`;
                    }
                }
            });
        }

        // Initialize action buttons
        function initializeActionButtons() {
            // Download report
            const downloadBtn = document.querySelector('.action-item:nth-child(1)');
            if (downloadBtn) {
                downloadBtn.addEventListener('click', function() {
                    alert('Downloading progress report for ' + childrenData[currentChild].name + '...');
                });
            }

            // View detailed report
            const viewBtn = document.querySelector('.action-item:nth-child(2)');
            if (viewBtn) {
                viewBtn.addEventListener('click', function() {
                    alert('Opening detailed report for ' + childrenData[currentChild].name + '...');
                });
            }

            // Request meeting
            const meetingBtn = document.querySelector('.action-item:nth-child(3)');
            if (meetingBtn) {
                meetingBtn.addEventListener('click', function() {
                    alert('Request meeting with ' + childrenData[currentChild].coach + '...');
                });
            }

            // View all activity
            const viewAllBtn = document.querySelector('.btn-view-all');
            if (viewAllBtn) {
                viewAllBtn.addEventListener('click', function() {
                    alert('Viewing all activities for ' + childrenData[currentChild].name + '...');
                });
            }

            // View learning details
            const learningBtn = document.querySelector('.btn-view-details');
            if (learningBtn) {
                learningBtn.addEventListener('click', function() {
                    alert('Viewing learning details for ' + childrenData[currentChild].learningProgress.module + '...');
                });
            }

            // Message coach button
            // const messageCoachBtn = document.querySelector('.btn-message-coach');
            // if (messageCoachBtn) {
            //     messageCoachBtn.addEventListener('click', function(e) {
            //         e.preventDefault();
            //         alert('Opening message composer to ' + childrenData[currentChild].coach + '...');
            //     });
            // }

            // Academic performance view all
            const viewAllPerformance = document.querySelector('.card-action-link');
            if (viewAllPerformance) {
                viewAllPerformance.addEventListener('click', function(e) {
                    e.preventDefault();
                    alert('Viewing all academic performance for ' + childrenData[currentChild].name + '...');
                });
            }
        }
    </script>
</body>

</html>
